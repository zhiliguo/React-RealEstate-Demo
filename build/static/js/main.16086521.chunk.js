(this["webpackJsonpreact-goodlive-home-1"]=this["webpackJsonpreact-goodlive-home-1"]||[]).push([[0],{122:function(e,t,c){},123:function(e,t,c){},124:function(e,t,c){},125:function(e,t,c){},126:function(e,t,c){},162:function(e,t,c){},163:function(e,t,c){},184:function(e,t,c){},185:function(e,t,c){},186:function(e,t,c){},187:function(e,t,c){},188:function(e,t,c){},189:function(e,t,c){},190:function(e,t,c){},191:function(e,t,c){},192:function(e,t,c){},193:function(e,t,c){},194:function(e,t,c){},195:function(e,t,c){},196:function(e,t,c){},197:function(e,t,c){},198:function(e,t,c){},199:function(e,t,c){},295:function(e,t,c){},296:function(e,t,c){},297:function(e,t,c){},298:function(e,t,c){},363:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),i=c.n(s),r=c(43),a=c.n(r),j=(c(122),c(123),c(124),c(6)),o=c(5),l=function(e){return Object(n.jsx)("div",{children:e.children})},u=(c(125),c(3)),d=(c(126),c(7)),b="INIT_CITY",O="CHENAGE_CITY",h="UPDATE_SEARCH",A="SET_LOGIN",f="OUT_LOGIN",x="COLLECT",m="UNCOLLECT";function p(e){return{type:h,search:e}}var v=Object(o.g)((function(e){var t=Object(s.useState)(""),c=Object(u.a)(t,2),i=c[0],r=c[1],a=Object(s.useRef)(),j=Object(d.b)(),l=Object(o.f)(),b=Object(d.c)((function(e){return e.search}));return Object(s.useEffect)((function(){l.keywords?j(p(l.keywords)):j(p("")),r(b.search)}),[b.search,l.keywords]),Object(n.jsx)("input",{className:"search-input",type:"text",onKeyUp:function(t){i.length>0&&13===t.keyCode&&(e.history.push("/search/"+i),j(p(i)))},value:i,onChange:function(e){r(e.target.value)},ref:a})})),g=function(e){return Object(n.jsxs)("div",{id:"home-header",className:"clear-fix",children:[Object(n.jsx)("div",{className:"home-header-left float-left",children:Object(n.jsxs)(j.b,{to:"/city",children:[Object(n.jsx)("span",{children:e.cityName}),Object(n.jsx)("i",{className:"icon-angle-down"})]})}),Object(n.jsx)("div",{className:"home-header-right float-right",children:Object(n.jsx)(j.b,{to:"/order",children:Object(n.jsx)("i",{className:"iconfont icon-car"})})}),Object(n.jsx)("div",{className:"home-header-middle",children:Object(n.jsxs)("div",{className:"search-container",children:[Object(n.jsx)("i",{className:"icon-search"}),Object(n.jsx)(v,{})]})})]})},y=c(109),N=c.n(y),k=c(110),w=c(25),C=c.n(w),S=(c(162),function(e){var t=new Array(e.len).fill(1),c=e.currentIndex;return Object(n.jsx)("div",{className:"swiper-pagination",children:Object(n.jsx)("ul",{children:t.map((function(e,t){return Object(n.jsx)("li",{className:C()({selected:c===t})},t)}))})})}),E=(c(163),Object(k.autoPlay)(N.a)),V=function(e){var t=Object(s.useState)(0),c=Object(u.a)(t,2),i=c[0],r=c[1];return Object(n.jsxs)("div",{className:"swiper",children:[Object(n.jsx)(E,{index:i,onChangeIndex:function(e){r(e)},children:e.banners.map((function(e,t){return Object(n.jsx)("div",{className:"swiper-view",children:Object(n.jsx)("img",{src:e,alt:""})},t)}))}),Object(n.jsx)(S,{currentIndex:i,len:e.banners.length})]})},L=c.p+"static/media/banner1.0b2027b7.png",I=c.p+"static/media/banner2.94e56fd6.png",P=c.p+"static/media/banner3.43885772.png",M=c(111),T=c.n(M),U=c(112),H=c.n(U),G=T.a.create({timeout:5e3});G.interceptors.request.use((function(e){return"post"===e.method&&(e.data=H.a.stringify(e.data)),e}),(function(e){return Promise.reject(e)})),G.interceptors.response.use((function(e){return 200===e.status?Promise.resolve(e):Promise.reject(e)}),(function(e){var t=e.response;!function(e,t){switch(e){case 400:console.log("\u8bed\u4e49\u6709\u8bef\uff0c\u5f53\u524d\u8bf7\u6c42\u65e0\u6cd5\u88ab\u670d\u52a1\u5668\u7406\u89e3\u3002\u9664\u975e\u8fdb\u884c\u4fee\u6539\uff0c\u5426\u5219\u5ba2\u6237\u7aef\u4e0d\u5e94\u8be5\u91cd\u590d\u63d0\u4ea4\u8fd9\u4e2a\u8bf7\u6c42\u3002");break;case 401:console.log("\u670d\u52a1\u5668\u8ba4\u8bc1\u5931\u8d25");break;case 403:console.log("\u670d\u52a1\u5668\u5df2\u7ecf\u7406\u89e3\u8bf7\u6c42\uff0c\u4f46\u662f\u62d2\u7edd\u6267\u884c\u5b83");break;case 404:console.log("\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bf7\u6c42\u5730\u5740");break;case 500:console.log("\u670d\u52a1\u5668\u9047\u5230\u4e86\u4e00\u4e2a\u672a\u66fe\u9884\u6599\u7684\u72b6\u51b5\uff0c\u5bfc\u81f4\u4e86\u5b83\u65e0\u6cd5\u5b8c\u6210\u5bf9\u8bf7\u6c42\u7684\u5904\u7406\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u8fd9\u4e2a\u95ee\u9898\u90fd\u4f1a\u5728\u670d\u52a1\u5668\u7684\u7a0b\u5e8f\u7801\u51fa\u9519\u65f6\u51fa\u73b0\u3002");break;case 502:console.log("\u4f5c\u4e3a\u7f51\u5173\u6216\u8005\u4ee3\u7406\u5de5\u4f5c\u7684\u670d\u52a1\u5668\u5c1d\u8bd5\u6267\u884c\u8bf7\u6c42\u65f6\uff0c\u4ece\u4e0a\u6e38\u670d\u52a1\u5668\u63a5\u6536\u5230\u65e0\u6548\u7684\u54cd\u5e94\u3002");break;default:console.log(t)}}(t.status,t.info)}));var J=G,B="http://localhost:5577",X="/api/aj/getcitycode",R="/api/home/hot1",D="/api/home/hot2",z="/api/search",Q="/api/details",W="/api/login",Z="/api/comment",Y="/api/order/comment",F="/api/order/submit/comment",q={getHomtHot1:function(e){return J.get(B+R,{params:e})},getHomtHot2:function(e){return J.get(B+D,{params:e})},getCityLists:function(){return J.get(X)},search:function(e){return J.get(B+z,{params:e})},details:function(e){return J.get(B+Q,{params:e})},login:function(e){return J.post(B+W,e)},comment:function(e){return J.get(B+Z,{params:e})},comentOrder:function(e){return J.get(B+Y,{params:e})},submitComment:function(e){return J.post(B+F,e)}},K=(c(184),function(e){return Object(n.jsxs)("div",{className:"hotproduct",children:[Object(n.jsx)("h3",{children:e.title}),Object(n.jsx)("div",{className:"hot-container",children:Object(n.jsx)("ul",{className:"clear-fix",children:e.data.map((function(t,c){return Object(n.jsx)("li",{children:Object(n.jsxs)("a",{href:t.link,children:[Object(n.jsx)("img",{src:t.img,alt:""}),Object(n.jsx)("span",{children:e.city+t.title})]})},c)}))})})]})}),_=function(e){var t=Object(s.useState)([]),c=Object(u.a)(t,2),i=c[0],r=c[1],a=Object(s.useState)([]),j=Object(u.a)(a,2),o=j[0],l=j[1],d=Object(s.useState)(e.cityName),b=Object(u.a)(d,2),O=b[0],h=b[1];return Object(s.useEffect)((function(){q.getHomtHot1({cityName:e.cityName}).then((function(e){200===e.data.status&&(r(e.data.result),h(e.data.city))}))}),[]),Object(s.useEffect)((function(){q.getHomtHot2({cityName:e.cityName}).then((function(e){200===e.data.status&&(l(e.data.result),h(e.data.city))}))}),[]),Object(n.jsxs)("div",{children:[i.length>0?Object(n.jsx)(K,{data:i,city:O,title:"\u70ed\u95e8\u5546\u54c1"}):Object(n.jsx)("div",{children:"\u7b49\u5f85\u6570\u636e\u52a0\u8f7d"}),o.length>0?Object(n.jsx)(K,{data:o,city:O,title:"\u65b0\u54c1\u63a8\u8350"}):Object(n.jsx)("div",{children:"\u7b49\u5f85\u6570\u636e\u52a0\u8f7d"})]})},$=function(){var e=Object(d.c)((function(e){return e.city}));return Object(n.jsxs)("div",{children:[Object(n.jsx)(g,{cityName:e.cityName}),Object(n.jsx)(V,{banners:[L,I,P]}),Object(n.jsx)(_,{cityName:e.cityName})]})},ee=function(){return Object(n.jsx)("div",{children:"\u751f\u6d3b\u670d\u52a1"})},te=function(){return Object(n.jsx)("div",{children:"\u5546\u57ce"})},ce=function(){return Object(n.jsx)("div",{children:"\u7528\u6237\u4e2d\u5fc3"})},ne=(c(185),Object(o.g)((function(e){return Object(n.jsxs)("div",{id:"common-header",children:[Object(n.jsx)("span",{className:"back-icon",onClick:function(){window.history.back()},children:Object(n.jsx)("i",{className:"icon-chevron-left"})}),Object(n.jsx)("h1",{children:e.title})]})}))),se=(c(186),function(e){return Object(n.jsx)("div",{className:"current-city",children:Object(n.jsxs)("h2",{children:["\u5f53\u524d\u57ce\u5e02\uff1a",e.city]})})}),ie=(c(187),Object(o.g)((function(e){function t(t){e.onEvent(t),e.history.push("/")}return Object(n.jsxs)("div",{className:"city-list-container",children:[Object(n.jsx)("h3",{children:"\u70ed\u95e8\u57ce\u5e02"}),Object(n.jsxs)("ul",{className:"clear-fix",children:[Object(n.jsx)("li",{onClick:function(){return t("\u5317\u4eac")},children:Object(n.jsx)("span",{children:"\u5317\u4eac"})}),Object(n.jsx)("li",{onClick:function(){return t("\u4e0a\u6d77")},children:Object(n.jsx)("span",{children:"\u4e0a\u6d77"})}),Object(n.jsx)("li",{onClick:function(){return t("\u6df1\u5733")},children:Object(n.jsx)("span",{children:"\u6df1\u5733"})}),Object(n.jsx)("li",{onClick:function(){return t("\u5e7f\u5dde")},children:Object(n.jsx)("span",{children:"\u5e7f\u5dde"})}),Object(n.jsx)("li",{onClick:function(){return t("\u6c88\u9633")},children:Object(n.jsx)("span",{children:"\u6c88\u9633"})}),Object(n.jsx)("li",{onClick:function(){return t("\u5929\u6d25")},children:Object(n.jsx)("span",{children:"\u5929\u6d25"})}),Object(n.jsx)("li",{onClick:function(){return t("\u676d\u5dde")},children:Object(n.jsx)("span",{children:"\u676d\u5dde"})}),Object(n.jsx)("li",{onClick:function(){return t("\u897f\u5b89")},children:Object(n.jsx)("span",{children:"\u897f\u5b89"})}),Object(n.jsx)("li",{onClick:function(){return t("\u9752\u5c9b")},children:Object(n.jsx)("span",{children:"\u9752\u5c9b"})}),Object(n.jsx)("li",{onClick:function(){return t("\u5357\u4eac")},children:Object(n.jsx)("span",{children:"\u5357\u4eac"})}),Object(n.jsx)("li",{onClick:function(){return t("\u90d1\u5dde")},children:Object(n.jsx)("span",{children:"\u90d1\u5dde"})}),Object(n.jsx)("li",{onClick:function(){return t("\u6210\u90fd")},children:Object(n.jsx)("span",{children:"\u6210\u90fd"})}),Object(n.jsx)("li",{onClick:function(){return t("\u8d64\u5cf0")},children:Object(n.jsx)("span",{children:"\u8d64\u5cf0"})}),Object(n.jsx)("li",{onClick:function(){return t("\u547c\u548c\u6d69\u7279")},children:Object(n.jsx)("span",{children:"\u547c\u548c\u6d69\u7279"})}),Object(n.jsx)("li",{onClick:function(){return t("\u6b21\u6e20")},children:Object(n.jsx)("span",{children:"\u6b21\u6e20"})})]})]})})));var re=c(113),ae=c.n(re),je={A:[],B:[],C:[],D:[],E:[],F:[],G:[],H:[],I:[],J:[],K:[],L:[],M:[],N:[],O:[],P:[],Q:[],R:[],S:[],X:[],T:[]},oe=(c(188),function(e){var t=Object(s.useState)(je),c=Object(u.a)(t,2),i=c[0],r=c[1];return Object(s.useEffect)((function(){q.getCityLists().then((function(e){200===e.status&&r(e.data.result.citylist)}))}),[]),Object(n.jsxs)("div",{className:"citylists",children:[Object(n.jsx)("h3",{children:"\u57ce\u5e02\u5217\u8868"}),Object(n.jsx)(ae.a,{data:i,onSelectItem:function(t){e.onEvent(t.name)}})]})}),le=function(e){var t=Object(d.b)(),c=Object(d.c)((function(e){return e.city}));function s(c){t({type:O,cityName:c}),e.history.push("/")}return Object(n.jsxs)("div",{children:[Object(n.jsx)(ne,{title:"\u57ce\u5e02\u9009\u62e9"}),Object(n.jsx)(se,{city:c.cityName}),Object(n.jsx)(ie,{onEvent:s}),Object(n.jsx)(oe,{onEvent:s})]})};c(189);var ue=function(e){var t,c=Object(s.useState)("data:image/png;base64,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"),i=Object(u.a)(c,2),r=i[0],a=i[1],o=e.data;return(t=o.img,new Promise((function(e,c){var n=new Image;n.src=t,n.onload=function(){e(t)},n.onerror=function(){c(new Error("Could not load image at "+t))}}))).then((function(e){a(e)})).catch((function(e){console.log(e)})),Object(n.jsx)("div",{className:"list-item",children:Object(n.jsxs)(j.b,{to:"/details/".concat(o.id),children:[Object(n.jsx)("img",{src:r,alt:""}),Object(n.jsxs)("div",{className:"mask",children:[Object(n.jsxs)("div",{className:"left",children:[Object(n.jsx)("p",{children:o.title}),Object(n.jsx)("p",{children:o.houseType})]}),Object(n.jsxs)("div",{className:"right",children:[Object(n.jsx)("div",{className:"btn",children:o.rentType}),Object(n.jsx)("p",{dangerouslySetInnerHTML:{__html:o.price+"\u5143/\u6708"}})]})]})]})})},de=function(e){return console.log(),Object(n.jsx)("div",{children:e.search.map((function(e,t){return Object(n.jsx)(ue,{data:e},t)}))})},be=(c(190),function(e){var t=Object(s.useRef)(),c=Object(s.useState)(1e4),i=Object(u.a)(c,2),r=i[0],a=i[1];return Object(s.useEffect)((function(){var c=null,n=document.documentElement.clientHeight;return window.addEventListener("scroll",(function(){t.current&&(a(t.current.getBoundingClientRect().top),c?clearTimeout(c):c=setTimeout((function(){n>r&&e.onLoadMore()}),100))})),function(){}}),[r]),Object(n.jsx)("div",{className:"load",ref:t,children:"\u52a0\u8f7d\u66f4\u591a"})}),Oe=function(e){var t=Object(s.useState)([]),c=Object(u.a)(t,2),i=c[0],r=c[1],a=Object(s.useState)(!1),j=Object(u.a)(a,2),o=j[0],l=j[1];function d(){q.search({search:e.search}).then((function(e){200===e.data.status&&(r(i.concat(e.data.result.data)),l(e.data.result.hasMore))})).catch((function(e){console.log(e)}))}return Object(s.useEffect)((function(){return d(),function(){r([]),l(!1)}}),[e.search]),Object(n.jsxs)("div",{children:[i.length>0?Object(n.jsx)(de,{search:i}):Object(n.jsx)("div",{children:"\u7b49\u5f85\u6570\u636e\u52a0\u8f7d..."}),o?Object(n.jsx)(be,{onLoadMore:function(){d()}}):Object(n.jsx)("div",{children:"\u88ab\u4f60\u770b\u5149\u4e86"})]})},he=(c(191),function(){return Object(n.jsxs)("div",{id:"search-header",className:"clear-fix",children:[Object(n.jsx)("span",{className:"back-icon float-left",onClick:function(){window.history.back()},children:Object(n.jsx)("i",{className:"icon-chevron-left"})}),Object(n.jsxs)("div",{className:"input-container",children:[Object(n.jsx)("i",{className:"icon-search"}),Object(n.jsx)(v,{})]})]})}),Ae=function(){var e=Object(o.f)();return Object(n.jsxs)("div",{children:[Object(n.jsx)(he,{}),Object(n.jsx)(Oe,{search:e.keywords})]})};c(192),c(193);var fe=Object(o.g)((function(e){var t=Object(d.b)(),c=Object(s.useState)(!0),i=Object(u.a)(c,2),r=i[0],a=i[1];function j(){var c,n;e.user.token?o()?(a(!0),t((n=e.id,{type:m,id:n}))):(a(!1),t((c=e.id,{type:x,collect:c}))):e.history.push("/login")}function o(){var t=e.collects,c=e.id;return t.some((function(e){return e==c}))}return Object(s.useEffect)((function(){a(o())}),[]),Object(n.jsxs)("div",{className:"buy-store-container clear-fix",children:[Object(n.jsx)("div",{className:"item-container float-left",children:r?Object(n.jsx)("button",{className:"selected",onClick:j,children:"\u6536\u85cf"}):Object(n.jsx)("button",{className:"selected o",onClick:j,children:"\u5df2\u6536\u85cf"})}),Object(n.jsx)("div",{className:"item-container float-right",children:Object(n.jsx)("button",{className:"selected",children:"\u8d2d\u4e70"})})]})})),xe=(c(194),function(e){var t=Object(d.c)((function(e){return e.login})),c=Object(d.c)((function(e){return e.collect}));return Object(n.jsx)("div",{className:"buy-and-store",children:Object(n.jsx)(fe,{id:e.id,user:t.user,collects:c})})}),me=(c(195),function(e){var t=Object(s.useState)(0),c=Object(u.a)(t,2),r=c[0],a=c[1];function j(e){return e===r?"Tab_title active":"Tab_title"}return Object(n.jsxs)("div",{children:[Object(n.jsx)("ul",{className:"Tab_title_wrap",children:i.a.Children.map(e.children,(function(e,t){return Object(n.jsx)("li",{onClick:function(){return function(e){a(e)}(t)},className:j(t),children:e.props.label},t)}))}),Object(n.jsx)("div",{children:i.a.Children.map(e.children,(function(e,t){return Object(n.jsx)("div",{children:r===t?e.props.children:""})}))})]})}),pe=(c(196),c(197),c(198),function(e){var t=e.num;return t>5&&(t=5),Object(n.jsx)("div",{className:"star-container",children:[1,2,3,4,5].map((function(e,c){return t>=e?Object(n.jsx)("i",{className:"icon-star light"},c):Object(n.jsx)("i",{className:"icon-star"},c)}))})}),ve=function(e){var t=e.data;return Object(n.jsxs)("div",{className:"comment-item",children:[Object(n.jsxs)("h3",{children:[Object(n.jsx)("i",{className:"icon-user"}),t.username]}),Object(n.jsx)(pe,{num:t.star}),Object(n.jsx)("p",{children:t.comment})]})},ge=function(e){var t=e.data;return Object(n.jsx)("div",{className:"comment-list",children:Object(n.jsx)("ul",{children:t.map((function(e,t){return Object(n.jsx)(ve,{data:e},t)}))})})},ye=function(e){var t=Object(s.useState)([]),c=Object(u.a)(t,2),i=c[0],r=c[1],a=Object(s.useState)(!1),j=Object(u.a)(a,2),o=j[0],l=j[1];function d(){q.comment({id:e.id}).then((function(e){200===e.data.status&&(r(i.concat(e.data.result.data)),l(e.data.result.hasMore))})).catch((function(e){console.log(e)}))}return Object(s.useEffect)((function(){d()}),[]),Object(n.jsxs)("div",{children:[i.length>0?Object(n.jsx)(ge,{data:i}):Object(n.jsx)("div",{children:"\u7b49\u5f85\u6570\u636e\u52a0\u8f7d"}),o?Object(n.jsx)(be,{onLoadMore:function(){d()}}):Object(n.jsx)("div",{children:"\u6ca1\u6709\u6570\u636e\u4e86"})]})},Ne=function(e){var t=e.detailsData;return Object(n.jsxs)("div",{children:[Object(n.jsx)(ne,{title:"\u8be6\u60c5\u9875"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(V,{banners:t.imgs}),Object(n.jsxs)(me,{children:[Object(n.jsxs)("div",{label:"\u8be6\u60c5",children:[Object(n.jsxs)("div",{className:"detail-info",children:[Object(n.jsx)("h3",{children:t.title}),Object(n.jsx)("div",{className:"box",children:Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[Object(n.jsxs)("span",{children:[t.price," /\u6708"]}),Object(n.jsx)("p",{children:"\u79df\u91d1"})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:t.info.type}),Object(n.jsx)("p",{children:"\u623f\u5c4b\u7c7b\u578b"})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:t.houseType}),Object(n.jsx)("p",{children:"\u9762\u79ef"})]})]})}),Object(n.jsxs)("div",{className:"info",children:[Object(n.jsxs)("div",{className:"info-list",children:[Object(n.jsxs)("p",{children:["\u7c7b\u578b\uff1a",t.info.type]}),Object(n.jsxs)("p",{children:["\u671d\u5411\uff1a",t.info.orientation]})]}),Object(n.jsxs)("div",{className:"info-list",children:[Object(n.jsxs)("p",{children:["\u697c\u5c42\uff1a",t.info.level]}),Object(n.jsxs)("p",{children:["\u88c5\u4fee\uff1a",t.info.style]})]}),Object(n.jsx)("div",{className:"info-list",children:Object(n.jsxs)("p",{children:["\u5e74\u4ee3\uff1a",t.info.years]})})]})]}),Object(n.jsx)(xe,{id:e.id})]}),Object(n.jsx)("div",{label:"\u8bc4\u4ef7",children:Object(n.jsx)(ye,{id:e.id})})]})]})]})},ke=function(e){var t=Object(s.useState)({}),c=Object(u.a)(t,2),i=c[0],r=c[1];return Object(s.useEffect)((function(){q.details({id:e.id}).then((function(e){200===e.status&&r(e.data)}))}),[]),Object(n.jsx)("div",{children:i.imgs?Object(n.jsx)(Ne,{detailsData:i,id:e.id}):Object(n.jsx)("div",{children:"\u7b49\u5f85\u6570\u636e\u52a0\u8f7d"})})},we=function(){var e=Object(o.f)();return Object(n.jsx)("div",{children:Object(n.jsx)(ke,{id:e.id})})},Ce=(c(199),c(64)),Se=c.n(Ce),Ee=c(114),Ve=c.n(Ee),Le=function(e){var t={};return Se.a.isEmpty(e.username)&&(t.username="\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"),Se.a.isEmpty(e.password)&&(t.password="\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"),{isValid:!Ve()(t),errors:t}},Ie=function(e){var t=Object(s.useState)(""),c=Object(u.a)(t,2),i=c[0],r=c[1],a=Object(s.useState)(""),j=Object(u.a)(a,2),o=j[0],l=j[1],d=Object(s.useState)({}),b=Object(u.a)(d,2),O=b[0],h=b[1];function A(e){"username"===e.target.name&&r(e.target.value),"password"===e.target.name&&l(e.target.value)}return Object(n.jsx)("div",{id:"login-container",children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c=Le({username:i,password:o}),n=c.isValid,s=c.errors;n?h(s):q.login({username:i,password:o}).then((function(t){200===t.data.status?(h({}),e.onLoginEvent(t.data)):console.log("\u767b\u9646\u5931\u8d25")}))},children:[Object(n.jsxs)("div",{className:C()("input-container phone-container",{"input-container-error":O.username}),children:[Object(n.jsx)("i",{className:"icon-tablet"}),Object(n.jsx)("input",{type:"text",name:"username",placeholder:"\u7528\u6237\u540d/\u624b\u673a\u53f7",value:i,onChange:A})]}),Object(n.jsxs)("div",{className:C()("input-container password-container",{"input-container-error":O.password}),children:[Object(n.jsx)("i",{className:"icon-key"}),Object(n.jsx)("button",{children:"\u53d1\u9001\u9a8c\u8bc1\u7801"}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"\u8f93\u5165\u9a8c\u8bc1\u7801",value:o,onChange:A})]}),Object(n.jsx)("button",{className:"btn-login",children:"\u767b\u5f55"})]})})};function Pe(e){return{type:A,user:e}}var Me=function(){var e=Object(d.b)();return Object(n.jsx)("div",{children:Object(n.jsx)(Ie,{onLoginEvent:function(t){e(Pe(t)),localStorage.setItem("goodlive",JSON.stringify(t)),window.history.back()}})})},Te=(c(295),function(e){return Object(n.jsxs)("div",{className:"userinfo-container",children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("i",{className:"icon-user"}),Object(n.jsx)("span",{children:e.user.nick})]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("i",{className:"icon-map-marker"}),Object(n.jsx)("span",{children:e.city.cityName})]})]})}),Ue=(c(296),function(e){var t=e.data,c=Object(s.useState)(0),i=Object(u.a)(c,2),r=i[0],a=i[1],j=Object(s.useRef)();return Object(s.useEffect)((function(){a(e.data.commentState)}),[]),Object(n.jsxs)("div",{className:"order-item-container clear-fix",children:[Object(n.jsx)("div",{className:"order-item-img float-left",children:Object(n.jsx)("img",{src:t.img,alt:""})}),Object(n.jsx)("div",{className:"order-item-comment float-right",children:0===r?Object(n.jsx)("button",{onClick:function(){a(1)},className:"btn",children:"\u8bc4\u4ef7"}):1===r?"":Object(n.jsx)("button",{className:"unseleted-btn btn",disabled:!0,children:"\u5df2\u8bc4\u4ef7"})}),Object(n.jsxs)("div",{className:"order-item-content",children:[Object(n.jsxs)("span",{children:["\u5546\u6237\uff1a",t.title]}),Object(n.jsxs)("span",{children:["\u7c7b\u578b\uff1a",t.houseType]}),Object(n.jsxs)("span",{children:["\u4ef7\u683c\uff1a",t.price]})]}),1===r?Object(n.jsxs)("div",{className:"comment-text-container",children:[Object(n.jsx)("textarea",{ref:j,className:"comment-text",style:{width:"100%",height:"80px"}}),Object(n.jsx)("button",{onClick:function(){q.submitComment({id:t.id,username:e.user.nick,content:j.current.value}).then((function(e){200===e.data.status?a(2):a(0)}))},className:"btn",children:"\u63d0\u4ea4"}),Object(n.jsx)("button",{onClick:function(){a(0)},className:"btn unseleted-btn",children:"\u53d6\u6d88"})]}):""]})}),He=function(e){return Object(n.jsx)("div",{children:e.data.map((function(t,c){return Object(n.jsx)(Ue,{user:e.user,data:t},c)}))})},Ge=function(e){var t=Object(s.useState)([]),c=Object(u.a)(t,2),i=c[0],r=c[1];return Object(s.useEffect)((function(){q.comentOrder({username:e.user.nick}).then((function(e){200===e.data.status&&r(e.data.result)}))}),[]),Object(n.jsx)("div",{children:i.length>0?Object(n.jsx)(He,{data:i,user:e.user}):Object(n.jsx)("div",{children:"\u7b49\u5f85\u6570\u636e\u52a0\u8f7d"})})},Je=Object(o.g)((function(e){var t=Object(d.c)((function(e){return e.city})),c=Object(d.c)((function(e){return e.login.user}));return Object(s.useEffect)((function(){c.token||e.history.push("/login")}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(ne,{title:"\u8ba2\u5355\u8bc4\u4ef7"}),Object(n.jsx)(Te,{city:t,user:c}),Object(n.jsx)(Ge,{user:c})]})})),Be=(c(297),function(){return Object(n.jsx)("div",{className:"nav-footer",children:Object(n.jsxs)("ul",{className:"clear-fix",children:[Object(n.jsx)("li",{children:Object(n.jsxs)(j.c,{exact:!0,to:"/",children:[Object(n.jsx)("i",{className:"iconfont icon-home"}),"\u9996\u9875"]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(j.c,{to:"/life",children:[Object(n.jsx)("i",{className:"iconfont icon-trophy"}),"\u751f\u6d3b\u670d\u52a1"]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(j.c,{to:"/shop",children:[Object(n.jsx)("i",{className:"iconfont icon-shop"}),"\u5546\u57ce"]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(j.c,{to:"/user",children:[Object(n.jsx)("i",{className:"iconfont icon-team"}),"\u6211\u7684"]})})]})})}),Xe=function(){return Object(n.jsx)(j.a,{children:Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{path:"/city",component:le}),Object(n.jsx)(o.a,{path:"/details/:id",component:we}),Object(n.jsx)(o.a,{path:"/login",component:Me}),Object(n.jsx)(o.a,{path:"/search/:keywords",component:Ae}),Object(n.jsx)(o.a,{path:"/order",component:Je}),Object(n.jsxs)(l,{path:"/",children:[Object(n.jsx)(Be,{}),Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{exact:!0,path:"/",component:$}),Object(n.jsx)(o.a,{path:"/life",component:ee}),Object(n.jsx)(o.a,{path:"/shop",component:te}),Object(n.jsx)(o.a,{path:"/user",component:ce})]})]})]})})},Re=(c(298),c(18)),De=c(115),ze={cityName:"\u5317\u4eac"},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case O:return{cityName:t.cityName};default:return e}},We={search:""};var Ze={user:{token:"",nick:""}};var Ye=c(46),Fe=c(116),qe=c.n(Fe),Ke=[];var _e=Object(Re.combineReducers)({city:Qe,search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{search:t.search};default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{user:t.user};case f:return{user:{token:"",nick:""}};default:return e}},collect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return[].concat(Object(Ye.a)(e),[t.collect]);case m:var c=qe()(e,(function(e){return e===t.id}));return[].concat(Object(Ye.a)(e.slice(0,c)),Object(Ye.a)(e.slice(c+1)));default:return e}}}),$e=Object(Re.createStore)(_e,Object(De.composeWithDevTools)());localStorage.getItem("goodlive")&&$e.dispatch(Pe(JSON.parse(localStorage.getItem("goodlive")))),a.a.render(Object(n.jsx)(d.a,{store:$e,children:Object(n.jsx)(Xe,{})}),document.getElementById("root"))}},[[363,1,2]]]);
//# sourceMappingURL=main.16086521.chunk.js.map